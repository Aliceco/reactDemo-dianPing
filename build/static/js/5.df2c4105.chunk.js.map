{"version":3,"sources":["containers/ProductDetail/components/ProductOverview/index.js","containers/ProductDetail/components/ShopInfo/index.js","containers/ProductDetail/components/Detail/index.js","containers/ProductDetail/components/Remark/index.js","containers/ProductDetail/components/BuyButton/index.js","containers/ProductDetail/index.js","components/Header/index.js"],"names":["ProductOverview","data","this","props","react_default","a","createElement","className","alt","src","picture","shop","description","currentPrice","oldPrice","react_router_dom","to","concat","id","Component","ShopInfo","total","style","width","star","href","phone","address","Detail","cellPadding","cellSpacing","colSpan","detail","category","products","map","item","index","key","name","quantity","price","remark","Remark","validityPeriod","purchaseNotes","title","content","BuyButton","productId","ProductDetail","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleBack","history","goBack","state","_this$props","product","relatedShop","Header","onBack","grey","ProductDetail_components_ProductOverview","ProductDetail_components_ShopInfo","shopIds","length","ProductDetail_components_Detail","ProductDetail_components_Remark","ProductDetail_components_BuyButton","productActions","loadShopById","nearestShop","match","params","loadProductDetail","preProps","connect","console","log","getProduct","getRelatedShop","dispatch","bindActionCreators","backgroundColor","react__WEBPACK_IMPORTED_MODULE_5___default","onClick"],"mappings":"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","file":"static/js/5.df2c4105.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./index.css\";\r\n\r\nimport {Link} from 'react-router-dom'\r\nclass ProductOverview extends Component {\r\n    render() {\r\n        const data = this.props.data\r\n        return (\r\n            <div className=\"productOverview\">\r\n                <div className=\"productOverview__header\">\r\n                    <div className=\"productOverview__imgContainer\">\r\n                        <img\r\n                            alt=\"\"\r\n                            className=\"productOverview__img\"\r\n                            src={data.picture}\r\n                        />\r\n                    </div>\r\n                    <div className=\"productOverview__baseInfo\">\r\n                        <div className=\"productOverview__title\">{data.shop}</div>\r\n                        <div className=\"productOverview__content\">\r\n                            {data.description}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"productOverview__purchase\">\r\n                    <span className=\"productOverview__symbol\">¥</span>\r\n                    <span className=\"productOverview__price\">{data.currentPrice}</span>\r\n                    <span className=\"productOverview__price--old\">¥{data.oldPrice}</span>\r\n                    <Link to={`/purchase/${data.id}`} className=\"productOverview__btn\">立即购买</Link>\r\n                </div>\r\n                <ul className=\"productOverview__remark\">\r\n                    <li className=\"productOverview__remarkItem\">\r\n                        <i className=\"productOverview__sign1\" />\r\n                        <span className=\"productOverview__desc\">随时可退</span>\r\n                    </li>\r\n                    <li className=\"productOverview__remarkItem\">\r\n                        <i className=\"productOverview__sign2\" />\r\n                        <span className=\"productOverview__desc\">过期自动退</span>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ProductOverview;\r\n","import React, { Component } from 'react';\r\nimport \"./index.css\"\r\n\r\nclass ShopInfo extends Component {\r\n    render() {\r\n        const data = this.props.data\r\n        const total = this.props.total\r\n        return (\r\n            <div className=\"shopInfo\">\r\n                <div className=\"shopInfo__header\">\r\n                    使用商户（{total}）\r\n                    <span className=\"shopInfo__arrow\"></span>\r\n                </div>\r\n                <div className=\"shopInfo__middle\">\r\n                    <div className=\"shopInfo__middleLeft\">\r\n                        <div className=\"shopInfo__shopName\">\r\n                            {data.shop}\r\n                        </div>\r\n                        <div className=\"shopInfo__starsWrapper\">\r\n              <span className=\"shopInfo__stars\">\r\n              <i className=\"shopInfo__stars--red\" style={{\"width\": 2*data.star+\"%\"}}></i>\r\n              </span>\r\n                            <span className=\"shopInfo__distance\">>100km</span>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"shopInfo__middleRight\">\r\n                        <a href={`tel://${data.phone}`}>\r\n                            <i className=\"shopInfo__phoneIcon\"></i>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n                <div className=\"shopInfo__bottom\">\r\n                    <i className=\"shopInfo__locationIcon\"></i>{data.address}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ShopInfo;\r\n","import React, { Component } from 'react';\r\nimport \"./index.css\"\r\n\r\nclass Detail extends Component {\r\n    render() {\r\n        const data = this.props.data\r\n        return (\r\n            <div className=\"detail\">\r\n                <div className=\"detail__header\">\r\n                    <span>团购详情</span>\r\n                    <i className=\"detail__headerIcon\"></i>\r\n                </div>\r\n                <table cellPadding=\"0\" cellSpacing=\"0\" className=\"detail__table\">\r\n                    <tbody>\r\n                    <tr className=\"detail__row\">\r\n                        <th colSpan=\"3\" className=\"detail__category\">\r\n                            {data.detail.category}\r\n                        </th>\r\n                    </tr>\r\n                    {\r\n                        data.detail.products.map((item, index) => {\r\n                            return (\r\n                                <tr key={index} className=\"detail__row\">\r\n                                    <td>{item.name}</td>\r\n                                    <td className=\"detail__td--alignRight\">\r\n                                        {item.quantity}\r\n                                    </td>\r\n                                    <td className=\"detail__td--alignRight\">\r\n                                        {item.price}元\r\n                                    </td>\r\n                                </tr>\r\n                            )\r\n                        })\r\n                    }\r\n                    <tr className=\"detail__row\">\r\n                        <td/>\r\n                        <td className=\"detail__td--price\">\r\n                            最高价值\r\n                            <br/>\r\n                            <strong className=\"detail__td--priceNew\">\r\n                                团购价\r\n                            </strong>\r\n                        </td>\r\n                        <td className=\"detail__td--price\">\r\n                            {data.currentPrice}元\r\n                            <br/>\r\n                            <strong className=\"detail__td--priceNew\">\r\n                                {data.oldPrice}元\r\n                            </strong>\r\n                        </td>\r\n                    </tr>\r\n                    </tbody>\r\n                </table>\r\n                <div className=\"detail__remark\">\r\n                    {data.detail.remark}\r\n                </div>\r\n                <div className=\"detail__more\">\r\n                    <span>更多图文详情</span>\r\n                    <span className=\"detail__notice\">(建议Wifi环境下打卡，土豪请随意)</span>\r\n                    <i className=\"detail__arrow\"/>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Detail;\r\n","import React, { Component } from \"react\";\r\nimport \"./index.css\";\r\n\r\nclass Remark extends Component {\r\n    render() {\r\n        const data = this.props.data\r\n        return (\r\n            <div className=\"remark\">\r\n                <div className=\"remark__header\">\r\n                    购买须知\r\n                    <i className=\"remark__icon\" />\r\n                </div>\r\n                <div className=\"remark__list\">\r\n                    <dl className=\"remark__item\">\r\n                        <dt className=\"remark__itemTitle\">有效期</dt>\r\n                        <dd className=\"remark__itemDesc\">{data.validityPeriod}</dd>\r\n                    </dl>\r\n                    {\r\n                        data.purchaseNotes.map((item, index) => {\r\n                           return (\r\n                               <dl key={index} className=\"remark__item\">\r\n                                   <dt className=\"remark__itemTitle\">{item.title}</dt>\r\n                                   <dd className=\"remark__itemDesc\">{item.content}</dd>\r\n                               </dl>\r\n                           )\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Remark;\r\n","import React, { Component } from 'react';\r\nimport './index.css'\r\nimport {Link} from 'react-router-dom'\r\nclass BuyButton extends Component {\r\n    render() {\r\n        const {productId} = this.props\r\n        return (\r\n            <Link to={`/purchase/${productId}`} className=\"buyButton\">\r\n                立即购买\r\n            </Link>\r\n        );\r\n    }\r\n}\r\n\r\nexport default BuyButton;\r\n","import React, {Component} from 'react'\r\nimport './index.css'\r\n\r\nimport ProductOverview from \"./components/ProductOverview\"\r\nimport ShopInfo from './components/ShopInfo'\r\nimport Detail from './components/Detail'\r\nimport Remark from './components/Remark'\r\nimport BuyButton from './components/BuyButton'\r\n\r\nimport Header from '../../components/Header'\r\n\r\nimport {bindActionCreators} from 'redux'\r\nimport {connect} from 'react-redux'\r\n\r\nimport {actions as productActions, getProduct, getRelatedShop} from '../../redux/modules/ui/productDetail'\r\n\r\nclass ProductDetail extends  Component{\r\n    // 构造函数\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        }\r\n    }\r\n    // 挂载函数\r\n    componentWillMount() {\r\n    }\r\n    render() {\r\n        const {product, relatedShop} = this.props\r\n        return (\r\n            <div>\r\n                <Header title=\"团购详情\" onBack={this.handleBack} grey></Header>\r\n                {\r\n                    product && <ProductOverview data={product}></ProductOverview>\r\n                }\r\n                {\r\n                    relatedShop && (<ShopInfo data={relatedShop} total={product.shopIds.length}></ShopInfo>)\r\n                }\r\n                {\r\n                    product &&  (\r\n                        <div>\r\n                            <Detail data={product}></Detail>\r\n                            <Remark data={product}></Remark>\r\n                            <BuyButton productId={product.id}></BuyButton>\r\n                        </div>\r\n                       )\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n    handleBack = () => {\r\n        this.props.history.goBack()\r\n    }\r\n    componentDidMount() {\r\n        const { product } = this.props;\r\n        if (!product) {\r\n            const productId = this.props.match.params.id;\r\n            this.props.productActions.loadProductDetail(productId);\r\n        } else if (!this.props.relatedShop) {\r\n            this.props.productActions.loadShopById(product.nearestShop);\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(preProps) {\r\n        // 第一次获取到产品详情时，需要继续获取关联的店铺信息\r\n        if (!preProps.product && this.props.product) {\r\n            this.props.productActions.loadShopById(this.props.product.nearestShop);\r\n        }\r\n    }\r\n    // 卸载函数\r\n    componentWillUnmount() {\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, props) => {\r\n    console.log(state)\r\n    const productId = props.match.params.id\r\n    return {\r\n        product: getProduct(state, productId),\r\n        relatedShop: getRelatedShop(state, productId)\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        productActions: bindActionCreators(productActions, dispatch)\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductDetail)\r\n","\r\nimport React, { Component } from 'react';\r\nimport \"./index.css\"\r\n\r\nclass Header extends Component {\r\n    render() {\r\n        const { grey, title, onBack } = this.props;\r\n        const backgroundColor = grey ?'#f0f0f0': '#fff';\r\n        return (\r\n            <header className=\"header\" style={{'backgroundColor':backgroundColor }}>\r\n                <div className=\"header__back\" onClick={onBack}>\r\n                    返回\r\n                </div>\r\n                <div className=\"header__title\">{title}</div>\r\n            </header>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Header;\r\n"],"sourceRoot":""}