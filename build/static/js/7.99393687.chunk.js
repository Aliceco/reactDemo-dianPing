(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){},124:function(e,t,n){"use strict";n.r(t);var a=n(18),r=n(19),c=n(21),o=n(20),m=n(22),i=n(0),s=n.n(i),l=(n(114),n(4)),u=n(24),d=n(38),p=n(27),h=n(40),_=(n(115),function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,m=new Array(r),i=0;i<r;i++)m[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(m)))).handleRemove=function(){n.props.noRemove()},n.renderEditArea=function(){return s.a.createElement("div",{className:"orderItem__commentContainer"},s.a.createElement("textarea",{className:"orderItem__comment",onChange:n.handleCommentChange,value:n.props.comment}),n.renderStars(),s.a.createElement("button",{className:"orderItem__commentBtn",onClick:n.props.onSubmitComment},"\u63d0\u4ea4"),s.a.createElement("button",{className:"orderItem__commentBtn",onClick:n.props.onCancelComment},"\u53d6\u6d88"))},n.handleCommentChange=function(e){n.props.onCommentChange(e.target.value)},n.handleComment=function(){var e=n.props.data.id;n.props.onComment(e)},n}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=t.title,a=t.statusText,r=t.orderPicUrl,c=t.channel,o=t.text,m=t.type,i=t.commentId,l=e.isCommenting;return s.a.createElement("div",{className:"orderItem"},s.a.createElement("div",{className:"orderItem__title"},s.a.createElement("span",null,n)),s.a.createElement("div",{className:"orderItem__main"},s.a.createElement("div",{className:"orderItem__imgWrapper"},s.a.createElement("div",{className:"orderItem__tag"},a),s.a.createElement("img",{alt:"",className:"orderItem__img",src:r})),s.a.createElement("div",{className:"orderItem__content"},s.a.createElement("div",{className:"orderItem__line"},o[0]),s.a.createElement("div",{className:"orderItem__line"},o[1]))),s.a.createElement("div",{className:"orderItem__bottom"},s.a.createElement("div",{className:"orderItem__type"},c),s.a.createElement("div",null,1!==m||i?null:s.a.createElement("div",{className:"orderItem__btn",onClick:this.handleComment},"\u8bc4\u4ef7"),s.a.createElement("div",{className:"orderItem__btn",onClick:this.handleRemove},"\u5220\u9664"))),l?this.renderEditArea():null)}},{key:"renderStars",value:function(){var e=this,t=this.props.stars;return s.a.createElement("div",null,[1,2,3,4,5].map(function(n,a){var r=t>=n?"orderItem__star--light":"";return s.a.createElement("span",{className:"orderItem__star "+r,key:a,onClick:e.props.onStarsChange.bind(e,n)},"\u2605")}))}}]),t}(i.Component)),b=(n(116),function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.content,n=e.cancelText,a=e.confirmText,r=e.onCancel,c=e.onConfirm;return s.a.createElement("div",{className:"confirm"},s.a.createElement("div",{className:"confirm__alert"},s.a.createElement("div",{className:"confirm__content"},t),s.a.createElement("div",{className:"confirm__btns"},s.a.createElement("a",{className:"confirm__btn",onClick:r},n),s.a.createElement("a",{className:"confirm__btn",onClick:c},a))))}}]),t}(i.Component)),C=(n(117),["\u5168\u90e8\u8ba2\u5355","\u5f85\u4ed8\u6b3e","\u53ef\u4f7f\u7528","\u9000\u6b3e/\u552e\u540e"]),v=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,m=new Array(r),i=0;i<r;i++)m[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(m)))).renderConfirmDialog=function(){var e=n.props.userAction,t=e.hideDeleteDialog,a=e.removeOrder;return s.a.createElement(b,{content:"\u786e\u8ba4\u5220\u9664\u8be5\u8ba2\u5355\u5417\uff1f",cancelText:"\u53d6\u6d88",confirmText:"\u786e\u5b9a",onCancel:t,onConfirm:a})},n.renderOrderList=function(e){var t=n.props,a=t.commentingOrderId,r=t.orderStars,c=t.orderComment;return e.map(function(e){return s.a.createElement(_,{key:e.id,data:e,isCommenting:e.id===a,comment:e.id===a?c:"",stars:e.id===a?r:0,onCommentChange:n.handleCommentChange,onStarsChange:n.handleStarsChange,onComment:n.handleComment.bind(Object(h.a)(n),e.id),onSubmitComment:n.handleSubmitComment,onCancelComment:n.handleCancelComment,noRemove:n.handleRemove.bind(Object(h.a)(n),e.id)})})},n.handleSubmitComment=function(){(0,n.props.userAction.submitComment)()},n.handleCancelComment=function(){(0,n.props.userAction.hideCommentArea)()},n.handleCommentChange=function(e){(0,n.props.userAction.setComment)(e)},n.handleStarsChange=function(e){(0,n.props.userAction.setStars)(e)},n.handleComment=function(e){(0,n.props.userAction.showCommentArea)(e)},n.renderEmpty=function(){return s.a.createElement("div",{className:"userMain__empty"},s.a.createElement("div",{className:"userMain__emptyIcon"}),s.a.createElement("div",{className:"userMain__emptyText1"},"\u60a8\u8fd8\u6ca1\u6709\u76f8\u5173\u8ba2\u5355"),s.a.createElement("div",{className:"userMain__emptyText2"},"\u53bb\u901b\u901b\u770b\u6709\u54ea\u4e9b\u60f3\u4e70\u7684"))},n.handleClickTab=function(e){n.props.userAction.setCurrentTab(e)},n.handleRemove=function(e){n.props.userAction.showDeleteDialog(e)},n}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.currentTab,a=t.data,r=t.deletingOrderId;return s.a.createElement("div",{className:"userMain"},s.a.createElement("div",{className:"userMain__menu"},C.map(function(t,a){return s.a.createElement("div",{key:a,className:"userMain__tab",onClick:e.handleClickTab.bind(e,a)},s.a.createElement("span",{className:n===a?"userMain__title userMain__title--active":"userMain__title"},t))})),s.a.createElement("div",{className:"userMain__content"},a&&a.length>0?this.renderOrderList(a):this.renderEmpty()),r?this.renderConfirmDialog():null)}}]),t}(i.Component),f=Object(u.b)(function(e,t){return{currentTab:Object(d.f)(e),deletingOrderId:Object(d.g)(e),commentingOrderId:Object(d.c)(e),orderStars:Object(d.e)(e),orderComment:Object(d.d)(e)}},function(e,t){return{userAction:Object(l.b)(d.a,e)}})(v),E=(n(118),function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onBack,n=e.onLogout;return s.a.createElement("header",{className:"userHeader"},s.a.createElement("div",{className:"userHeader__back",onClick:t},"\u9996\u9875"),s.a.createElement("div",{className:"userHeader__list"},s.a.createElement("span",{className:"userHeader__item userHeader__item--selected"},"\u8ba2\u5355"),s.a.createElement("span",{className:"userHeader__item"},"\u62b5\u7528\u5238")),s.a.createElement("div",{className:"userHeader__right",onClick:n},"\u6ce8\u9500"))}}]),t}(i.Component)),O=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(c.a)(this,Object(o.a)(t).call(this,e))).handleBack=function(){n.props.history.push("/")},n.handleLogout=function(){n.props.loginAction.logout()},n.state={},n}return Object(m.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.orders;e.currentTab;return s.a.createElement("div",null,s.a.createElement(E,{onBack:this.handleBack,onLogout:this.handleLogout}),s.a.createElement(f,{data:t}))}},{key:"componentDidMount",value:function(){this.props.userAction.loadOrders()}},{key:"componentWillUnmount",value:function(){}}]),t}(i.Component);t.default=Object(u.b)(function(e,t){return{orders:Object(d.h)(e),currentTab:Object(d.f)(e)}},function(e,t){return{userAction:Object(l.b)(d.a,e),loginAction:Object(l.b)(p.a,e)}})(O)}}]);
//# sourceMappingURL=7.99393687.chunk.js.map