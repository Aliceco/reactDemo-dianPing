{"version":3,"sources":["containers/User/components/OrderItem/index.js","components/Confirm/index.js","containers/User/containers/UserMain/index.js","containers/User/components/UserHeader/index.js","containers/User/index.js"],"names":["OrderItem","handleRemove","_this","props","noRemove","renderEditArea","react_default","a","createElement","className","onChange","handleCommentChange","value","comment","renderStars","onClick","onSubmitComment","onCancelComment","e","onCommentChange","target","handleComment","id","data","onComment","_this$props","this","_this$props$data","title","statusText","orderPicUrl","channel","text","type","commentId","isCommenting","alt","src","_this2","stars","map","item","index","lightClass","key","onStarsChange","bind","Component","Confirm","content","cancelText","confirmText","onCancel","onConfirm","tabTitles","UserMain","renderConfirmDialog","_this$props$userActio","userAction","hideDeleteDialog","removeOrder","src_components_Confirm","renderOrderList","commentingOrderId","orderStars","orderComment","User_components_OrderItem","handleStarsChange","Object","assertThisInitialized","handleSubmitComment","handleCancelComment","submitComment","hideCommentArea","setComment","setStars","orderId","showCommentArea","renderEmpty","handleClickTab","setCurrentTab","showDeleteDialog","_this$props2","currentTab","deletingOrderId","length","connect","state","getCurrentTab","getDeletingOrderId","getCommentingOrderId","getCurrentOrderStars","getCurrentOrderComment","dispatch","bindActionCreators","UserHeader","onBack","onLogout","User","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleBack","history","push","handleLogout","loginAction","logout","orders","User_components_UserHeader","User_containers_UserMain","loadOrders","getOrders"],"mappings":"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","file":"static/js/7.99393687.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./index.css\"\r\n\r\n\r\n\r\nclass OrderItem extends Component {\r\n    render() {\r\n        const {\r\n            data: { title, statusText, orderPicUrl, channel, text, type, commentId },\r\n            isCommenting\r\n        } = this.props;\r\n        return (\r\n            <div className=\"orderItem\">\r\n                <div className=\"orderItem__title\">\r\n                    <span>{title}</span>\r\n                </div>\r\n                <div className=\"orderItem__main\">\r\n                    <div className=\"orderItem__imgWrapper\">\r\n                        <div className=\"orderItem__tag\">{statusText}</div>\r\n                        <img alt=\"\" className=\"orderItem__img\" src={orderPicUrl} />\r\n                    </div>\r\n                    <div className=\"orderItem__content\">\r\n                        <div className=\"orderItem__line\">{text[0]}</div>\r\n                        <div className=\"orderItem__line\">{text[1]}</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"orderItem__bottom\">\r\n                    <div className=\"orderItem__type\">{channel}</div>\r\n                    <div>\r\n                        {type === 1 && !commentId ? <div className=\"orderItem__btn\" onClick={this.handleComment}>评价</div> : null}\r\n                        <div className=\"orderItem__btn\" onClick={this.handleRemove}>删除</div>\r\n                    </div>\r\n                </div>\r\n                {isCommenting ? this.renderEditArea() : null}\r\n            </div>\r\n        );\r\n    }\r\n    handleRemove = () => {\r\n        this.props.noRemove()\r\n    }\r\n    //渲染订单评价区域的DOM\r\n    renderEditArea = () => {\r\n        return (\r\n            <div className=\"orderItem__commentContainer\">\r\n        <textarea\r\n            className=\"orderItem__comment\"\r\n            onChange={this.handleCommentChange}\r\n            value={this.props.comment}\r\n        />\r\n                {this.renderStars()}\r\n                <button className=\"orderItem__commentBtn\" onClick={this.props.onSubmitComment}>\r\n                    提交\r\n                </button>\r\n                <button className=\"orderItem__commentBtn\" onClick={this.props.onCancelComment}>\r\n                    取消\r\n                </button>\r\n            </div>\r\n        )\r\n    }\r\n    renderStars() {\r\n        const {stars} = this.props\r\n        return (\r\n            <div>\r\n                {[1, 2, 3, 4, 5].map((item, index) => {\r\n                    const lightClass = stars >= item ? \"orderItem__star--light\" : \"\";\r\n                    return (\r\n                        <span\r\n                            className={\"orderItem__star \" + lightClass}\r\n                            key={index}\r\n                            onClick={this.props.onStarsChange.bind(this, item)}\r\n                        >\r\n              ★\r\n            </span>\r\n                    );\r\n                })}\r\n            </div>\r\n        );\r\n    }\r\n    //评价信息发生变化\r\n    handleCommentChange = (e) => {\r\n        this.props.onCommentChange(e.target.value)\r\n    };\r\n    // 点击评价\r\n    handleComment = () => {\r\n        const {\r\n            data: {id}\r\n        } = this.props\r\n        this.props.onComment(id)\r\n    }\r\n}\r\n\r\nexport default OrderItem;\r\n","\r\nimport React, { Component } from \"react\";\r\nimport \"./index.css\";\r\n\r\nclass Confirm extends Component {\r\n    render() {\r\n        const {\r\n            content,\r\n            cancelText,\r\n            confirmText,\r\n            onCancel,\r\n            onConfirm\r\n        } = this.props;\r\n        return (\r\n            <div className=\"confirm\">\r\n                <div className=\"confirm__alert\">\r\n                    <div className=\"confirm__content\">{content}</div>\r\n                    <div className=\"confirm__btns\">\r\n                        <a className=\"confirm__btn\" onClick={onCancel}>\r\n                            {cancelText}\r\n                        </a>\r\n                        <a className=\"confirm__btn\" onClick={onConfirm}>\r\n                            {confirmText}\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Confirm;\r\n","import React, { Component } from \"react\";\r\nimport OrderItem from \"../../components/OrderItem\"\r\n\r\nimport Confirm from  '../../../../components/Confirm'\r\n\r\nimport \"./index.css\"\r\n\r\nimport {connect} from 'react-redux'\r\nimport {bindActionCreators} from 'redux'\r\n\r\nimport {actions as userAction, getCurrentTab, getDeletingOrderId, getCurrentOrderComment, getCurrentOrderStars, getCommentingOrderId} from \"../../../../redux/modules/ui/user\";\r\n\r\n\r\n// const data = [\r\n//     {\r\n//         id: \"o-2\",\r\n//         statusText: \"已消费\",\r\n//         orderPicUrl:\r\n//             \"https://p1.meituan.net/deal/95e79382c20a78da3068c4207ab7a9b4329494.jpg.webp@700w_700h_1e_1c_1l|watermark=1&&r=1&p=9&x=20&y=20\",\r\n//         channel: \"团购\",\r\n//         title: \"华莱士：华莱士单人套餐\",\r\n//         text: [\"1张 | 总价：￥11.99\", \"有效期至2018-09-17\"],\r\n//         type: 1\r\n//     }\r\n// ];\r\n\r\nconst tabTitles = [\"全部订单\", \"待付款\", \"可使用\", \"退款/售后\"];\r\n\r\nclass UserMain extends Component {\r\n    render() {\r\n        const { currentTab, data, deletingOrderId } = this.props;\r\n        return (\r\n            <div className=\"userMain\">\r\n                <div className=\"userMain__menu\">\r\n                    {tabTitles.map((item, index) => {\r\n                        return (\r\n                            <div key={index} className=\"userMain__tab\" onClick={this.handleClickTab.bind(this, index)}>\r\n                <span\r\n                    className={\r\n                        currentTab === index\r\n                            ? \"userMain__title userMain__title--active\"\r\n                            : \"userMain__title\"\r\n                    }\r\n                >\r\n                  {item}\r\n                </span>\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n                <div className=\"userMain__content\">\r\n                    {data && data.length > 0\r\n                        ? this.renderOrderList(data)\r\n                        : this.renderEmpty()}\r\n                </div>\r\n                {\r\n                    deletingOrderId ? this.renderConfirmDialog() : null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n    renderConfirmDialog = () => {\r\n        const {\r\n            userAction: { hideDeleteDialog, removeOrder }\r\n        } = this.props;\r\n        return (\r\n            <Confirm\r\n            content=\"确认删除该订单吗？\"\r\n            cancelText=\"取消\"\r\n            confirmText=\"确定\"\r\n            onCancel={hideDeleteDialog}\r\n            onConfirm={removeOrder}\r\n            ></Confirm>\r\n        )\r\n    }\r\n    renderOrderList = data => {\r\n        const {commentingOrderId, orderStars, orderComment} = this.props\r\n        return data.map(item => {\r\n            return (\r\n                <OrderItem key={item.id} data={item}\r\n                           isCommenting={item.id === commentingOrderId}\r\n                           comment={item.id === commentingOrderId ? orderComment : ''}\r\n                           stars={item.id === commentingOrderId ? orderStars : 0}\r\n                           onCommentChange={this.handleCommentChange}\r\n                           onStarsChange={this.handleStarsChange}\r\n                           onComment={this.handleComment.bind(this, item.id)}\r\n                           onSubmitComment={this.handleSubmitComment}\r\n                           onCancelComment={this.handleCancelComment}\r\n                           noRemove={this.handleRemove.bind(this, item.id)}/>\r\n            )\r\n        })\r\n    }\r\n    // 提交评价\r\n    handleSubmitComment = () => {\r\n        const {userAction: {submitComment}} = this.props\r\n        submitComment()\r\n    }\r\n    // 取消提交\r\n    handleCancelComment = () => {\r\n        const {userAction: {hideCommentArea}} = this.props\r\n        hideCommentArea()\r\n    }\r\n    // 评价内容变化\r\n    handleCommentChange = (comment) => {\r\n        const {userAction: {setComment}} = this.props\r\n        setComment(comment)\r\n    }\r\n    // 打分变化\r\n    handleStarsChange = (stars) => {\r\n        const {userAction: {setStars}} = this.props\r\n        setStars(stars)\r\n    }\r\n    // 选中当前要评价的订单\r\n    handleComment = (orderId) => {\r\n        const {userAction: {showCommentArea}} = this.props\r\n        showCommentArea(orderId)\r\n    }\r\n    renderEmpty = () => {\r\n        return (\r\n            <div className=\"userMain__empty\">\r\n                <div className=\"userMain__emptyIcon\"/>\r\n                <div className=\"userMain__emptyText1\">您还没有相关订单</div>\r\n                <div className=\"userMain__emptyText2\">去逛逛看有哪些想买的</div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    handleClickTab = (index) => {\r\n        this.props.userAction.setCurrentTab(index)\r\n    }\r\n    // 删除订单\r\n    handleRemove = (orderId) => {\r\n        this.props.userAction.showDeleteDialog(orderId)\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, props) => {\r\n    return {\r\n        currentTab: getCurrentTab(state),\r\n        deletingOrderId: getDeletingOrderId(state),\r\n        commentingOrderId: getCommentingOrderId(state),\r\n        orderStars: getCurrentOrderStars(state),\r\n        orderComment: getCurrentOrderComment(state)\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, props) => {\r\n    return {\r\n        userAction: bindActionCreators(userAction, dispatch)\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserMain)\r\n\r\n","import React, { Component } from \"react\";\r\nimport \"./index.css\"\r\n\r\nclass UserHeader extends Component {\r\n    render() {\r\n        const { onBack, onLogout } = this.props;\r\n        return (\r\n            <header className=\"userHeader\">\r\n                <div className=\"userHeader__back\" onClick={onBack}>\r\n                    首页\r\n                </div>\r\n                <div className=\"userHeader__list\">\r\n          <span className=\"userHeader__item userHeader__item--selected\">\r\n            订单\r\n          </span>\r\n                    <span className=\"userHeader__item\">抵用券</span>\r\n                </div>\r\n                <div className=\"userHeader__right\" onClick={onLogout}>\r\n                    注销\r\n                </div>\r\n            </header>\r\n        );\r\n    }\r\n}\r\n\r\nexport default UserHeader;\r\n","import React, {Component} from 'react'\r\nimport './index.css'\r\n\r\nimport {bindActionCreators} from 'redux'\r\nimport {connect} from 'react-redux'\r\n\r\nimport {actions as userAction, getCurrentTab, getOrders} from \"../../redux/modules/ui/user\";\r\nimport {actions as loginAction} from \"../../redux/modules/ui/login\";\r\n\r\nimport UserMain from \"./containers/UserMain\"\r\nimport UserHeader from \"./components/UserHeader\"\r\n\r\nclass User extends  Component{\r\n    // 构造函数\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        }\r\n    }\r\n    // 挂载函数\r\n    componentWillMount() {\r\n    }\r\n    render() {\r\n        const {orders, currentTab} = this.props\r\n        return (\r\n            <div>\r\n                <UserHeader onBack={this.handleBack} onLogout={this.handleLogout} />\r\n                <UserMain data={orders} />\r\n            </div>\r\n        )\r\n    }\r\n    handleBack = () => {\r\n        // todo\r\n        this.props.history.push('/')\r\n    }\r\n\r\n    handleLogout = () => {\r\n        // todo\r\n        this.props.loginAction.logout()\r\n    }\r\n    componentDidMount() {\r\n        this.props.userAction.loadOrders()\r\n    }\r\n    // 卸载函数\r\n    componentWillUnmount() {\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, props) => {\r\n    return {\r\n        orders: getOrders(state),\r\n        currentTab: getCurrentTab(state)\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, props) => {\r\n    return {\r\n        userAction: bindActionCreators(userAction, dispatch),\r\n        loginAction: bindActionCreators(loginAction, dispatch)\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(User)\r\n// export default User\r\n"],"sourceRoot":""}